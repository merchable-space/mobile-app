<ion-view view-title="Update Product" hide-back-button="true">
    <ion-content class="red">
        <div ng-if="menuVm.stockUpdating === 'single' || menuVm.stockUpdating === 'woosb'" class="card">
            <ion-item class="item-divider">
                {{menuVm.currentlyStocking.sku}}
            </ion-item>
            <ion-item class="item-squash" ng-hide="menuVm.currentlyStocking.manage_stock === false || menuVm.currentlyStocking.type === 'woosb'">
                <label class="item-input">
                    <span class="input-label">Stock</span>
                    <span class="price-symbol">тип</span>
                    <input type="number" ng-model="menuVm.stockToUpdate[menuVm.currentlyStocking.id].stock" required="required" autocapitalize="none">
                </label>
            </ion-item>
            <ion-item class="item-squash">
                <label class="item-input">
                    <span class="input-label">Price</span>
                    <span class="price-symbol" ng-bind-html="menuVm.currencySymbol"></span>
                    <input type="number" step="0.01" ng-model="menuVm.stockToUpdate[menuVm.currentlyStocking.id].price" required="required" autocapitalize="none">
                </label>
            </ion-item>
            <ion-item class="item-toggle">
                On Sale?
                <label class="toggle toggle-balanced">
                    <input type="checkbox" ng-model="menuVm.stockToUpdate[menuVm.currentlyStocking.id].sale">
                    <div class="track">
                        <div class="handle"></div>
                    </div>
                </label>
            </ion-item>
            <ion-item ng-if="menuVm.stockToUpdate[menuVm.currentlyStocking.id].sale" class="item-squash">
                <label class="item-input">
                    <span class="input-label">Sale Price</span>
                    <span class="price-symbol" ng-bind-html="menuVm.currencySymbol"></span>
                    <input type="number" step="0.01" ng-model="menuVm.stockToUpdate[menuVm.currentlyStocking.id].sale_price" required="required" autocapitalize="none">
                </label>
            </ion-item>
        </div>
        <div ng-if="menuVm.stockUpdating === 'variant'" class="card">
            <ion-item class="item-icon-right item-divider" ng-click="menuVm.toggleMultiStockEdit()">
                <span class="dashboard-text">Bulk update variants</span>
                <i class="icon typcn typcn-edit"></i>
            </ion-item>
            <ion-list ng-if="menuVm.showMultiStockEdit">
                <ion-item class="item-squash">
                    <label class="item-input">
                        <span class="input-label">Stock</span>
                        <span class="price-symbol">тип</span>
                        <input type="number" ng-model="menuVm.bulkUpdateStock" required="required" autocapitalize="none">
                    </label>
                </ion-item>
                <ion-item class="item-squash">
                    <label class="item-input">
                        <span class="input-label">Price</span>
                        <span class="price-symbol" ng-bind-html="menuVm.currencySymbol"></span>
                        <input type="number" step="0.01" ng-model="menuVm.bulkUpdatePrice" required="required" autocapitalize="none">
                    </label>
                </ion-item>
                <ion-item class="item-toggle">
                    On Sale?
                    <label class="toggle toggle-balanced">
                        <input type="checkbox" ng-model="menuVm.bulkUpdateOnSale">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </ion-item>
                <ion-item ng-if="menuVm.bulkUpdateOnSale" class="item-squash">
                    <label class="item-input">
                        <span class="input-label">Sale Price</span>
                        <span class="price-symbol" ng-bind-html="menuVm.currencySymbol"></span>
                        <input type="number" step="0.01" ng-model="menuVm.bulkUpdateSalePrice" required="required" autocapitalize="none">
                    </label>
                </ion-item>
                <ion-item>
                    <button class="button button-block button-royal" ng-click="menuVm.bulkUpdateMultiStock(menuVm.currentProductStock)">
                        Bulk Update
                    </button>
                </ion-item>
            </ion-list>
        </div>
        <div ng-if="menuVm.stockUpdating === 'variant'" ng-repeat="variant in menuVm.productVariants[menuVm.currentProductStock]" class="card">
            <ion-item class="item-divider">
                {{variant.sku}}
            </ion-item>
            <ion-item class="item-squash" ng-hide="variant.manage_stock === false">
                <label class="item-input">
                    <span class="input-label">Stock</span>
                    <span class="price-symbol">тип</span>
                    <input type="number" ng-model="menuVm.stockToUpdate[variant.id].stock" required="required" autocapitalize="none">
                </label>
            </ion-item>
            <ion-item class="item-squash">
                <label class="item-input">
                    <span class="input-label">Price</span>
                    <span class="price-symbol" ng-bind-html="menuVm.currencySymbol"></span>
                    <input type="number" step="0.01" ng-model="menuVm.stockToUpdate[variant.id].price" required="required" autocapitalize="none">
                </label>
            </ion-item>
            <ion-item class="item-toggle">
                On Sale?
                <label class="toggle toggle-balanced">
                    <input type="checkbox" ng-model="menuVm.stockToUpdate[variant.id].sale">
                    <div class="track">
                        <div class="handle"></div>
                    </div>
                </label>
            </ion-item>
            <ion-item ng-if="menuVm.stockToUpdate[variant.id].sale" class="item-squash">
                <label class="item-input">
                    <span class="input-label">Sale Price</span>
                    <span class="price-symbol" ng-bind-html="menuVm.currencySymbol"></span>
                    <input type="number" step="0.01" ng-model="menuVm.stockToUpdate[variant.id].sale_price" required="required" autocapitalize="none">
                </label>
            </ion-item>
        </div>
    </ion-content>

    <ion-footer-bar class="bar-balanced item-icon-right" ng-click="menuVm.updateAllStock()">
        <h1 class="title">Save</h1>
        <i class="icon typcn typcn-tick"></i>
    </ion-footer-bar>
</ion-view>
